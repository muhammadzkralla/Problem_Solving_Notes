[1934. Confirmation Rate](https://leetcode.com/problems/confirmation-rate/ "1934. Confirmation Rate") <br>
`t1` CTE represents each `user_id` with their total count of 'confirmed' records. `t2` CTE represents each `user_id` and their total count of occurences in the database. `t3` CTE represents each `user_id` and their `confirmation_rate` but it does not contain all the `user_id`s in the `signup` table, so we need to join it with the `signup` table with left join and use `coalesce` to replace null values with zero.<br>

[1251. Average Selling Price](https://leetcode.com/problems/average-selling-price/ "1251. Average Selling Price") <br>
`t1` CTE represents each `product` with their total count of `items_sold`, this helps us know how many items are sold of each item to use it later to calculate the average price of this item. `t2` CTE represents each `product` with their total amount of money spent on this item according to when was this item sold and its price on that date, the problem with this CTE is that it does not give us the total price for each item in just one row, so we need another CTE `t3`. `t3` CTE represents each `product` and the total amount of money spent on it over all time. `t4` CTE represents each `product` with their average price, `average_price`, but it does not contain all the `product_id`s in the `prices` table, so we need to join it with the `prices` table with left join and use `coalesce` to replace null values with zero. <br>

[1211. Queries Quality and Percentage](https://leetcode.com/problems/queries-quality-and-percentage/ "1211. Queries Quality and Percentage") <br>
`t1` CTE represents each query with the sum of all its `(rating / position)` values. `t2` CTE represents each query and their total count of occurences in the database. `t3` CTE represents each query and the sum of all its poor rated records. `t4` CTE represents each query with their quality values. `t5` CTE represents each query with their poor_query_percentage values. <br>

[1211. Queries Quality and Percentage](https://leetcode.com/problems/queries-quality-and-percentage/ "1211. Queries Quality and Percentage") <br>
This is another solution to the problem above as I forgot to use the `avg` function in it. In this solution we can just select each `query_name` and use the `avg` function with both the rating and the position directly instead of making CTEs (`t1`, `t2`) and then use the `sum` function with `case` to get the total sum of all `rating`s less than one and multiply them by one hundred to get the `poor_query_percentage` column. <br>

[1193. Monthly Transactions I](https://leetcode.com/problems/monthly-transactions-i/description/ "1193. Monthly Transactions I") <br>
To extract only the month and the year in psql, you need to use the `to_char()` function and specify its format, which is `YYYY-MM`. The country column has nothing to do about except for the fact that there exists null countries you have to handle with the `coalesce()` function. The rest are regular `sum()` functions with some `case when` conditions. The most important part here is that in order to correctly parse records in the same month is to group by the month after formatting which is after applying the `to_char()` part on the dates. <br>
